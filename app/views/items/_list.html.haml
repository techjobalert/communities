.list
  .list-header
    - if current_user
      .nav
        = link_to '#', :class => 'movies selected' do
          %span
          Movies
        = link_to '#', :class => 'articles' do
          %span
          Articles
        = link_to '#', :class => 'presentations' do
          %span
          Presentations
    .filter{:class=> ('stand-alone' if current_user.nil?)}
      .field
        = form_tag root_path, :remote => true, :method => :get do
          .tags
            .label Sort by
            .filter-form              
              = select_tag "views", options_for_select(['Any Viewed','More Viewed', 'Less Viewed'], 'More Viewed')
              = select_tag "length", options_for_select(['Any Length'])
              = select_tag "date", options_for_select(['Any Date','Today', '1 Week', '1 Month', '1 Year'])
              = select_tag "price", options_for_select(['Any','Free', 'Paid'])
              = hidden_field_tag "filter_type", :value => "basic"
            .clear
          .search
            = text_field_tag "q", nil, :value => params[:q] ,:placeholder => 'Free search', :class => 'text-input', :id => "qsearch"
            = submit_tag 'Go', :class => 'dark-button'

        .clear
    .clear

    .list-content
      = render :partial => "items/basic_list", :locals => {:items => items}

:javascript

  $("#qsearch").autocomplete({
    source: "/search/qsearch-item",
    minLength: 3,
    width: 100,
    select: function(event, ui) {
      return window.location.assign(ui.item.url);
    }
    }).data("autocomplete")._renderItem = function(ul, item) {
      return $("<li></li>").addClass("qsearch-item").data("item.autocomplete", item).append("<a href=\"" + item.url + "\">" + item.title + "</a>").appendTo(ul);
    };